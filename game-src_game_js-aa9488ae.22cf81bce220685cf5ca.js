/*
 * ATTENTION: The "eval" devtool has been used (maybe by default in mode: "development").
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(self["webpackChunkproyecto_gus"] = self["webpackChunkproyecto_gus"] || []).push([["game-src_game_js-aa9488ae"],{

/***/ "./src/game.js":
/*!*********************!*\
  !*** ./src/game.js ***!
  \*********************/
/***/ ((__unused_webpack_module, __unused_webpack___webpack_exports__, __webpack_require__) => {

"use strict";
eval("/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ \"./node_modules/@babel/runtime/helpers/esm/defineProperty.js\");\n/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ \"./node_modules/@babel/runtime/helpers/esm/classCallCheck.js\");\n/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ \"./node_modules/@babel/runtime/helpers/esm/createClass.js\");\n/* harmony import */ var pixi_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! pixi.js */ \"./node_modules/pixi.js/dist/esm/pixi.js\");\n/* harmony import */ var _scss_style_scss__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./scss/style.scss */ \"./src/scss/style.scss\");\n\n\n\n\n/*\r\n############################\r\n## START GLOBAL RESOURCES ##\r\n############################\r\n*/\n\n\n\nfunction import_all_assets(r) {\n  return r.keys().map(r);\n}\n\nimport_all_assets(__webpack_require__(\"./src/assets sync recursive \\\\.(png|jpe?g|svg)$\"));\n/*\r\n############################\r\n##  END GLOBAL RESOURCES  ##\r\n############################\r\n*/\n\n/*\r\n#############################\r\n##    START GAME ASSETS    ##\r\n#############################\r\n*/\n\nvar _ = __webpack_require__(/*! lodash */ \"./node_modules/lodash/lodash.js\");\n\nvar GAME_ASSETS = [];\nvar ASSETS_URI = \"./img/\";\nvar FILE_CACHE = import_all_assets(__webpack_require__(\"./src/config sync recursive \\\\.js$\"));\n/*\r\n#################################\r\n## AGRUPAR ASSETS POR ARCHIVOS ##\r\n#################################\r\n*/\n\nvar CONFIG_BY_FILE = _.groupBy(_.filter(FILE_CACHE, \"file\"), \"file\");\n\nfor (var index in CONFIG_BY_FILE) {\n  GAME_ASSETS.push({\n    name: _.kebabCase(index.split(\".\")[0]),\n    url: ASSETS_URI + index\n  });\n}\n/*\r\n#############################\r\n##     END GAME ASSETS     ##\r\n#############################\r\n*/\n\n/*\r\n#############################\r\n##      LEVELS CONFIG      ##\r\n#############################\r\n*/\n\n\nvar LEVELS_CONFIG = import_all_assets(__webpack_require__(\"./src/levels sync \\\\.js$\"));\n/*\r\n#############################\r\n##    END LEVELS CONFIG    ##\r\n#############################\r\n*/\n\nvar Stats = __webpack_require__(/*! stats.js */ \"./node_modules/stats.js/build/stats.min.js\");\n\npixi_js__WEBPACK_IMPORTED_MODULE_3__.settings.SCALE_MODE = pixi_js__WEBPACK_IMPORTED_MODULE_3__.SCALE_MODES.NEAREST;\nvar MAIN_CONFIG = {\n  width: 480,\n  height: 360,\n  antialias: true,\n  backgroundAlpha: 1,\n  resolution: 1\n};\nvar WWIDTH = 480;\nvar WHEIGHT = 360;\nvar RATIO = WWIDTH / WHEIGHT;\n\nfunction keyboard(value) {\n  var key = {};\n  key.value = value;\n  key.isDown = false;\n  key.isUp = true;\n  key.press = undefined;\n  key.release = undefined;\n\n  key.downHandler = function (event) {\n    if (event.key === key.value) {\n      if (key.isUp && key.press) key.press();\n      key.isDown = true;\n      key.isUp = false;\n      event.preventDefault();\n    }\n  };\n\n  key.upHandler = function (event) {\n    if (event.key === key.value) {\n      if (key.isDown && key.release) key.release();\n      key.isDown = false;\n      key.isUp = true;\n      event.preventDefault();\n    }\n  };\n\n  var downListener = key.downHandler.bind(key);\n  var upListener = key.upHandler.bind(key);\n  window.addEventListener(\"keydown\", downListener, false);\n  window.addEventListener(\"keyup\", upListener, false);\n\n  key.unsubscribe = function () {\n    window.removeEventListener(\"keydown\", downListener);\n    window.removeEventListener(\"keyup\", upListener);\n  };\n\n  return key;\n}\n\nwindow.localStorage.setItem(\"arrpos\", 0);\n\nvar MyGame = /*#__PURE__*/function () {\n  function MyGame() {\n    (0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1__.default)(this, MyGame);\n\n    var __this__ = this;\n\n    __this__.BASE_TEXTURE = [];\n    __this__.TEXTURES = [];\n    __this__.ASSETS = [];\n    __this__.LEVELS = [];\n    __this__.MAIN_PLAYER = [];\n    __this__.DOOR = [];\n    __this__.DOOR_ANIMATIONS = [];\n    __this__.PLAYER_ANIMATIONS = [];\n    __this__.MOBS_ANIMATIONS = [];\n    __this__.MOBS_COLLISIONS = [];\n    __this__.MOBS = [];\n    __this__.THE_MOBS = [];\n    __this__.PLAYER_SPEED = 1;\n    __this__.MOB_SPEED = 0.8;\n    __this__.GRAVITY = 0.05;\n    __this__.GRAVITY_SPEED = 0;\n    __this__.JUMP_HEIGHT = 20;\n    __this__.JUMP = false;\n    __this__.REGULAR_HITAREA = {\n      x: 16,\n      y: 25,\n      width: 23,\n      height: 19\n    };\n    __this__.PLAYER_HITAREA = undefined;\n    __this__.STAGES = [];\n    __this__.ORDER_STAGES = [\"example\", \"example2\", \"example3\", \"example4\", \"example5\", \"example6\"];\n    __this__.ORDER_NOTES = [\"Mi nombre es Oswald, 2do. Ya deberías saber qué es lo que hago.\\nCódigo: K1\", \"Las veces que nos topemos determina el método que seguiremos.\\nCódigo: AD5\", \"Tengo una recomendación especial: el número 20 parece llamar a la suerte.\\nCódigo: LL6\", \"Si se desconoce cuándo parar, tened en cuenta que alcanzar la marca, el tiempo detendrá, y en primer instante, la respuesta llegará.\\nCódigo: F2P\", \"Recuerdo la pista como burbujas flotando sobre la inclinada corriente, ¿qué habrá sido de ella?\\nCódigo: A3\", \"Para usted, una pista encontré, aunque la cabeza me puso al revés:“sopoʇǝɯ sol uɐsɐq ǝs ǝnb uǝ”\\nCódigo: V4T\"];\n    __this__.ORDER_LIVES = [3, 4, 5, 6, 7, 8];\n    __this__.CONTAINER = {\n      x: 32 * 2 + 2,\n      y: 32 + 16,\n      width: 32 * 13 + 14,\n      height: 32 * 10 - 14\n    };\n    __this__.app = new pixi_js__WEBPACK_IMPORTED_MODULE_3__.Application(MAIN_CONFIG);\n    __this__.app.renderer.autoResize = true;\n\n    __this__.app.renderer.resize(WWIDTH, WHEIGHT);\n\n    resize();\n    __this__.ticker = pixi_js__WEBPACK_IMPORTED_MODULE_3__.Ticker.shared;\n    __this__.ticker.autoStart = false;\n\n    __this__.ticker.stop();\n\n    window.onresize = resize();\n\n    function resize() {\n      var size = {\n        width: WWIDTH,\n        height: WHEIGHT\n      };\n\n      if (WWIDTH / WHEIGHT >= RATIO) {\n        size.width = WHEIGHT * RATIO;\n        size.height = WHEIGHT;\n      } else {\n        size.width = WWIDTH;\n        size.height = WWIDTH / RATIO;\n      }\n\n      __this__.app.renderer.view.style.width = size.width + \"px\";\n      __this__.app.renderer.view.style.height = size.height + \"px\";\n    }\n\n    this.LEFT = keyboard(\"ArrowLeft\");\n    this.RIGHT = keyboard(\"ArrowRight\");\n    this.UP = keyboard(\"ArrowUp\");\n    this.DOWN = keyboard(\"ArrowDown\");\n    this.ATTACK = keyboard(\"c\");\n    this.INTERACT = keyboard(\"v\");\n    var gameContainer = document.getElementById(\"game\");\n    gameContainer.appendChild(this.app.view);\n    __this__.stats = new Stats();\n    var statsContainer = document.getElementById(\"stats\");\n    statsContainer.appendChild(__this__.stats.dom);\n\n    __this__.stats.showPanel(0);\n\n    __this__.ticker.start();\n    /* GAME LOOP */\n\n\n    __this__.ticker.add(function () {\n      __this__.gameLoop();\n    });\n  }\n\n  (0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2__.default)(MyGame, [{\n    key: \"gameLoop\",\n    value: function gameLoop() {\n      var _this = this;\n\n      this.stats.update();\n      this.newPosition(); // check if exists collision\n\n      var collisionPosition = this.contain(this.MAIN_PLAYER, this.CONTAINER, \"dev\"); // this.MOBS.forEach((mob, index) => {\n      //   const playerHitMobs = this.hitTestRectangle(this.MAIN_PLAYER.hitArea, mob.hitArea);\n      //   if (playerHitMobs) console.log(\"golpexdddd con \" + index);\n      // });\n\n      this.DOOR.forEach(function (door) {\n        if (_this.hitTestRectangle(_this.MAIN_PLAYER, door)) {\n          if (!_this.MOBS.length && _this.UP.isDown) {\n            door.loop = false;\n            door.animationSpeed = 0.166;\n            door.textures = _this.DOOR_ANIMATIONS[\"opening\"];\n            _this.MAIN_PLAYER.loop = false;\n            _this.MAIN_PLAYER.textures = _this.PLAYER_ANIMATIONS[\"door-in\"];\n\n            _this.MAIN_PLAYER.play();\n\n            door.play();\n\n            door.onComplete = function () {\n              door.textures = _this.DOOR_ANIMATIONS[\"closing\"];\n              door.loop = false;\n              door.play();\n\n              door.onComplete = function () {\n                door.textures = _this.DOOR_ANIMATIONS[\"idle\"];\n                door.loop = false;\n                door.play();\n\n                _this.displayMessage(_this.ORDER_NOTES[window.localStorage.getItem(\"arrpos\")]);\n              };\n            };\n          }\n\n          if (!_this.MOBS.length && _this.INTERACT.isDown) {\n            _this.app.stage.removeChild(_this.STAGES[window.localStorage.getItem(\"arrpos\")]);\n\n            window.localStorage.setItem(\"arrpos\", parseInt(window.localStorage.getItem(\"arrpos\")) + 1);\n\n            _this.createSingleLevel(_this.STAGES[window.localStorage.getItem(\"arrpos\")]);\n\n            _this.app.stage.addChild(_this.STAGES[window.localStorage.getItem(\"arrpos\")]);\n          } else {// console.log(\"no puedes entrar\");\n          }\n        }\n      });\n      this.MOBS.forEach(function (mobCol) {\n        if (_this.hitTestRectangle(_this.MAIN_PLAYER, mobCol) && _this.ATTACK.isDown) {\n          mobCol.textures = _this.MOBS_ANIMATIONS[\"hit\"];\n          mobCol.loop = false;\n          mobCol.play();\n\n          mobCol.onComplete = function () {\n            mobCol.textures = _this.MOBS_ANIMATIONS[\"idle\"];\n            mobCol.loop = true;\n            mobCol.play();\n            mobCol.vidas -= 1;\n          };\n        }\n\n        if (_this.hitTestRectangle(mobCol, _this.MAIN_PLAYER) && !mobCol.attack) {\n          mobCol.attack = true;\n          mobCol.textures = _this.MOBS_ANIMATIONS[\"attack\"];\n          mobCol.loop = false;\n          mobCol.play();\n\n          mobCol.onComplete = function () {\n            _this.MAIN_PLAYER.loop = false;\n            _this.MAIN_PLAYER.textures = _this.PLAYER_ANIMATIONS[\"hit\"];\n\n            _this.MAIN_PLAYER.play();\n\n            _this.MAIN_PLAYER.onComplete = function () {\n              _this.MAIN_PLAYER.textures = _this.PLAYER_ANIMATIONS[\"idle\"];\n              _this.MAIN_PLAYER.loop = true;\n\n              _this.MAIN_PLAYER.play();\n            };\n\n            mobCol.textures = _this.MOBS_ANIMATIONS[\"idle\"];\n            mobCol.loop = true;\n            mobCol.play();\n          };\n        }\n\n        if (!_this.hitTestRectangle(mobCol, _this.MAIN_PLAYER) && mobCol.attack) {\n          mobCol.attack = false;\n        }\n\n        if (mobCol.vidas <= 0) {\n          _this.MOBS = [];\n\n          _this.STAGES[0][window.localStorage.getItem(\"nivel\")].removeChild(mobCol);\n        }\n\n        if (_this.contain(mobCol, _this.CONTAINER) === \"bottom\") {\n          mobCol.onFloor = true;\n        }\n\n        if (mobCol.x > _this.MAIN_PLAYER.x && mobCol.onFloor) {\n          mobCol.scale.x = 1;\n          mobCol.x -= 1;\n        }\n\n        if (mobCol.x < _this.MAIN_PLAYER.x && mobCol.onFloor) {\n          mobCol.scale.x = -1;\n          mobCol.x += 1;\n        }\n\n        if (_this.contain(mobCol, _this.CONTAINER) === \"bottom\") {\n          mobCol.canChange = false;\n        }\n      });\n      this.MAIN_PLAYER.x += this.MAIN_PLAYER.vx;\n      this.MAIN_PLAYER.y += this.MAIN_PLAYER.vy;\n    }\n  }, {\n    key: \"newPosition\",\n    value: function newPosition() {\n      this.MAIN_PLAYER.gravitySpeed += this.MAIN_PLAYER.gravity;\n      this.MAIN_PLAYER.x += this.MAIN_PLAYER.vx;\n      this.MAIN_PLAYER.y += this.MAIN_PLAYER.vy + this.MAIN_PLAYER.gravitySpeed;\n      this.MOBS.forEach(function (mob) {\n        mob.gravitySpeed += mob.gravity;\n        mob.x += mob.vx;\n        mob.y += mob.vy + mob.gravitySpeed;\n      });\n    }\n  }, {\n    key: \"displayMessage\",\n    value: function displayMessage(msg) {\n      var style = new pixi_js__WEBPACK_IMPORTED_MODULE_3__.TextStyle({\n        fontFamily: \"PetMe64\",\n        fontSize: 20,\n        fill: \"black\",\n        stroke: \"#2c2c2c\",\n        strokeThickness: 1\n      });\n      var messageBox = new pixi_js__WEBPACK_IMPORTED_MODULE_3__.Text(msg, style);\n      messageBox.position.set(WWIDTH / 4, WHEIGHT / 4);\n      messageBox.style = {\n        align: \"center\",\n        wordWrap: true,\n        wordWrapWidth: 300\n      };\n      this.STAGES[0][window.localStorage.getItem(\"nivel\")].addChild(messageBox);\n    }\n  }, {\n    key: \"hitTestRectangle\",\n    value: function hitTestRectangle(r1, r2) {\n      // hit will determine whether there\"s a collision\n      var hit = false; // Find the center points of each sprite\n\n      r1.centerX = r1.x + r1.width / 2;\n      r1.centerY = r1.y + r1.height / 2; // Find the half-widths and half-heights of each sprite\n\n      r1.halfWidth = r1.width / 2;\n      r1.halfHeight = r1.height / 2;\n      r2.centerX = r2.x + r2.width / 2;\n      r2.centerY = r2.y + r2.height / 2; // Find the half-widths and half-heights of each sprite\n\n      r2.halfWidth = r2.width / 2;\n      r2.halfHeight = r2.height / 2; // Calculate the distance vector between the sprites\n\n      var vx = r1.centerX - r2.centerX;\n      var vy = r1.centerY - r2.centerY; // Figure out the combined half-widths and half-heights\n\n      var combinedHalfWidths = r1.halfWidth + r2.halfWidth;\n      var combinedHalfHeights = r1.halfHeight + r2.halfHeight; // Check for a collision on the x axis\n\n      if (Math.abs(vx) < combinedHalfWidths) {\n        // A collision might be occurring. Check for a collision on the y axis\n        if (Math.abs(vy) < combinedHalfHeights) {\n          // There\"s definitely a collision happening\n          hit = true;\n        } else {\n          // There\"s no collision on the y axis\n          hit = false;\n        }\n      } else {\n        // There\"s no collision on the x axis\n        hit = false;\n      } // `hit` will be either `true` or `false`\n\n\n      return hit;\n    }\n  }, {\n    key: \"contain\",\n    value: function contain(sprite, container) {\n      var mode = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : \"dev\";\n      var collision = undefined;\n      var x = sprite.x,\n          y = sprite.y,\n          width = sprite.width,\n          height = sprite.height;\n\n      if (typeof sprite.hitArea !== \"undefined\") {\n        x = sprite.x + sprite.hitArea.x;\n        y = sprite.y + sprite.hitArea.y;\n        width = sprite.hitArea.width;\n        height = sprite.hitArea.height;\n      } // Left\n\n\n      if (x < container.x) {\n        sprite.x = container.x;\n        collision = \"left\";\n      } // Top\n\n\n      if (y < container.y) {\n        sprite.y = container.y;\n        collision = \"top\";\n      } // Right\n\n\n      if (x + width > container.width) {\n        sprite.x = container.width - width;\n        collision = \"right\";\n      } // Bottom\n\n\n      if (y + height > container.height) {\n        sprite.y = container.height - height;\n        collision = \"bottom\";\n      }\n\n      if (mode === \"debug\") {\n        this.drawRectangle(container);\n      } // Return the `collision` value\n\n\n      return collision;\n    }\n  }, {\n    key: \"drawRectangle\",\n    value: function drawRectangle(container) {\n      var clean = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n      var rectangle = new pixi_js__WEBPACK_IMPORTED_MODULE_3__.Graphics();\n      rectangle.lineStyle(1, 0xff0000, 1);\n      rectangle.drawRect(0, 0, container.width, container.height);\n      rectangle.x = container.x;\n      rectangle.y = container.y;\n      this.app.stage.addChild(rectangle);\n      if (clean) rectangle.clear();\n    }\n  }, {\n    key: \"setup\",\n    value: function setup() {\n      var _this2 = this;\n\n      this.app.loader.add(GAME_ASSETS).load(function () {\n        _this2.createSheets();\n\n        _this2.createSingleLevel(_this2.ORDER_STAGES[window.localStorage.getItem(\"arrpos\")]);\n\n        _this2.app.stage.addChild(_this2.STAGES[0][_this2.ORDER_STAGES[window.localStorage.getItem(\"arrpos\")]]);\n\n        _this2.configPlayer();\n\n        _this2.configMobs();\n      });\n    }\n  }, {\n    key: \"createSheets\",\n    value: function createSheets() {\n      var _this3 = this;\n\n      GAME_ASSETS.forEach(function (obj) {\n        var name = obj.name;\n        _this3.BASE_TEXTURE[name] = new pixi_js__WEBPACK_IMPORTED_MODULE_3__.BaseTexture.from(_this3.app.loader.resources[name].url);\n      });\n\n      var _loop = function _loop(k) {\n        CONFIG_BY_FILE[k].forEach(function (file) {\n          var name = file.name,\n              width = file.width,\n              height = file.height,\n              asset_x = file.asset_x,\n              asset_y = file.asset_y;\n\n          if (typeof file.animation !== \"undefined\" && file.animation) {\n            _this3.TEXTURES[name] = [];\n            var width_file = width / file.sprites;\n\n            for (var i = 0; i < file.sprites; i++) {\n              _this3.TEXTURES[name].push(new pixi_js__WEBPACK_IMPORTED_MODULE_3__.Texture(_this3.BASE_TEXTURE[_.kebabCase(k.split(\".\")[0])], new pixi_js__WEBPACK_IMPORTED_MODULE_3__.Rectangle(asset_x + width_file * i, asset_y, width_file, height)));\n            }\n          } else {\n            _this3.TEXTURES[name] = new pixi_js__WEBPACK_IMPORTED_MODULE_3__.Texture(_this3.BASE_TEXTURE[_.kebabCase(k.split(\".\")[0])], new pixi_js__WEBPACK_IMPORTED_MODULE_3__.Rectangle(asset_x, asset_y, width, height));\n          }\n\n          try {\n            var temp = [];\n\n            if (file.animation) {\n              temp[name] = new pixi_js__WEBPACK_IMPORTED_MODULE_3__.AnimatedSprite(_this3.TEXTURES[name]);\n            } else {\n              temp[name] = new pixi_js__WEBPACK_IMPORTED_MODULE_3__.Sprite(_this3.TEXTURES[name]);\n            }\n\n            _this3.ASSETS[name] = Object.assign(temp[name], file);\n\n            _this3.app.stage.addChild(_this3.ASSETS[name]);\n\n            if (file.animation) _this3.ASSETS[name].play();\n          } catch (e) {\n            throw \"Error al hacer el escenario: \" + e;\n          }\n        });\n      };\n\n      for (var k in CONFIG_BY_FILE) {\n        _loop(k);\n      }\n    }\n  }, {\n    key: \"createSingleLevel\",\n    value: function createSingleLevel(level_name) {\n      var _this4 = this;\n\n      this.STAGES.push((0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__.default)({}, level_name, new pixi_js__WEBPACK_IMPORTED_MODULE_3__.Container()));\n      var level_config = LEVELS_CONFIG.find(function (level) {\n        return level.name == level_name && !level.player;\n      });\n      var assets = level_config.assets,\n          playerConfig = level_config.playerConfig,\n          mobsConfig = level_config.mobsConfig,\n          doorConfig = level_config.doorConfig; // pa hacerlo rápido XD\n\n      window.localStorage.setItem(\"nivel\", level_name);\n      window.localStorage.setItem(\"player-x\", playerConfig.position.x);\n      window.localStorage.setItem(\"player-y\", playerConfig.position.y);\n      assets.forEach(function (_ref) {\n        var name = _ref.name,\n            position = _ref.position;\n        var file = FILE_CACHE.find(function (catchedFile) {\n          return catchedFile.name == name && catchedFile.name.length;\n        });\n        if (typeof position === \"function\") position = position();\n        position.forEach(function (_ref2) {\n          var x = _ref2.x,\n              y = _ref2.y;\n\n          try {\n            var temp = [];\n\n            if (typeof file.animation !== \"undefined\") {\n              temp[name] = new pixi_js__WEBPACK_IMPORTED_MODULE_3__.AnimatedSprite(_this4.TEXTURES[name]);\n            } else {\n              temp[name] = new pixi_js__WEBPACK_IMPORTED_MODULE_3__.Sprite(_this4.TEXTURES[name]);\n            }\n\n            file.x = x;\n            file.y = y;\n\n            var __length__ = _this4.LEVELS.push(Object.assign(temp[name], file));\n\n            _this4.STAGES[0][level_name].addChild(_this4.LEVELS[__length__ - 1]);\n\n            if (typeof file.animation !== \"undefined\") _this4.LEVELS[__length__ - 1].play();\n          } catch (e) {\n            throw \"Error al crear nivel: \" + e;\n          }\n        });\n      });\n      this.DOOR_ANIMATIONS[\"idle\"] = this.TEXTURES[\"idle-door\"];\n      this.DOOR_ANIMATIONS[\"opening\"] = this.TEXTURES[\"opening-door\"];\n      this.DOOR_ANIMATIONS[\"closing\"] = this.TEXTURES[\"closing-door\"];\n      doorConfig.forEach(function (_ref3, index) {\n        var name = _ref3.name,\n            isDoor = _ref3.isDoor,\n            interactive = _ref3.interactive,\n            position = _ref3.position,\n            hitArea = _ref3.hitArea;\n        var file = FILE_CACHE.find(function (catchedFile) {\n          return catchedFile.name == name && catchedFile.name.length;\n        });\n\n        try {\n          var temp = [];\n\n          if (typeof file.animation !== \"undefined\") {\n            temp[name] = new pixi_js__WEBPACK_IMPORTED_MODULE_3__.AnimatedSprite(_this4.TEXTURES[name]);\n          } else {\n            temp[name] = new pixi_js__WEBPACK_IMPORTED_MODULE_3__.Sprite(_this4.TEXTURES[name]);\n          }\n\n          file.x = position.x;\n          file.y = position.y;\n\n          if (typeof interactive !== \"undefined\") {\n            file.interactive = interactive;\n\n            if (typeof hitArea !== \"undefined\" && typeof isDoor !== \"undefined\") {\n              /* PLAYER EXTRA CONFIGURATION */\n              _this4.DOOR.push(_this4.ASSETS[\"idle-door\"]);\n\n              _this4.DOOR[index].vx = 0;\n              _this4.DOOR[index].vy = 0;\n              _this4.DOOR[index].zIndex = 10;\n              _this4.DOOR[index].x = position.x;\n              _this4.DOOR[index].y = position.y;\n              _this4.DOOR[index].loop = false;\n              _this4.DOOR[index].opened = false;\n              _this4.DOOR[index].hitArea = new pixi_js__WEBPACK_IMPORTED_MODULE_3__.Rectangle(0, 0, hitArea.width, hitArea.height);\n\n              _this4.DOOR[index].debugMode = function () {\n                var graphics = new pixi_js__WEBPACK_IMPORTED_MODULE_3__.Graphics();\n                graphics.lineStyle(1, 0xff0000, 1);\n                graphics.drawRect(0, 0, _this4.DOOR[index].width, _this4.DOOR[index].height);\n                graphics.pivot.set(_this4.DOOR[index].width / 2, _this4.DOOR[index].height / 2);\n\n                _this4.DOOR[index].addChild(graphics);\n              };\n\n              _this4.STAGES[0][level_name].addChild(_this4.DOOR[index]);\n            }\n          }\n        } catch (e) {\n          throw \"Error al crear puertas: \" + e;\n        }\n      });\n      this.MOBS_ANIMATIONS[\"idle\"] = this.TEXTURES[\"pig-idle\"];\n      this.MOBS_ANIMATIONS[\"hit\"] = this.TEXTURES[\"pig-hit\"];\n      this.MOBS_ANIMATIONS[\"run\"] = this.TEXTURES[\"pig-run\"];\n      this.MOBS_ANIMATIONS[\"attack\"] = this.TEXTURES[\"pig-attack\"];\n      mobsConfig.forEach(function (_ref4, index) {\n        var name = _ref4.name,\n            position = _ref4.position,\n            hitArea = _ref4.hitArea,\n            interactive = _ref4.interactive,\n            isMob = _ref4.isMob;\n        var file = FILE_CACHE.find(function (catchedFile) {\n          return catchedFile.name == name && catchedFile.name.length;\n        });\n\n        try {\n          var temp = [];\n\n          if (typeof file.animation !== \"undefined\") {\n            temp[name] = new pixi_js__WEBPACK_IMPORTED_MODULE_3__.AnimatedSprite(_this4.TEXTURES[name]);\n          } else {\n            temp[name] = new pixi_js__WEBPACK_IMPORTED_MODULE_3__.Sprite(_this4.TEXTURES[name]);\n          }\n\n          file.x = position.x;\n          file.y = position.y;\n\n          if (typeof interactive !== \"undefined\") {\n            file.interactive = interactive;\n\n            if (typeof hitArea !== \"undefined\" && typeof isMob !== \"undefined\") {\n              /* PLAYER EXTRA CONFIGURATION */\n              _this4.MOBS.push(_this4.ASSETS[\"pig-run\"]);\n\n              _this4.MOBS[index].vx = 0;\n              _this4.MOBS[index].vy = 0;\n              _this4.MOBS[index].zIndex = 10;\n              _this4.MOBS[index].gravity = _this4.GRAVITY;\n              _this4.MOBS[index].gravitySpeed = _this4.GRAVITY_SPEED;\n              _this4.MOBS[index].x = file.x;\n              _this4.MOBS[index].y = file.y;\n              _this4.MOBS[index].vidas = 3;\n              _this4.MOBS[index].onFloor = false;\n              _this4.MOBS[index].canChange = true;\n              _this4.MOBS[index].attack = false;\n              _this4.MOBS[index].hitArea = new pixi_js__WEBPACK_IMPORTED_MODULE_3__.Rectangle(0, 0, hitArea.width, hitArea.height);\n\n              _this4.MOBS[index].debugMode = function () {\n                var graphics = new pixi_js__WEBPACK_IMPORTED_MODULE_3__.Graphics();\n                graphics.lineStyle(1, 0x0000ff, 1);\n                graphics.drawRect(0, 0, _this4.MOBS[index].width, _this4.MOBS[index].height);\n                graphics.pivot.set(_this4.MOBS[index].width / 2 + 4, _this4.MOBS[index].height / 2);\n\n                _this4.MOBS[index].addChild(graphics);\n              };\n\n              _this4.STAGES[0][level_name].addChild(_this4.MOBS[index]);\n            }\n          }\n        } catch (e) {\n          throw \"Error al crear mobs: \" + e;\n        }\n      });\n      console.log(this.STAGES);\n    }\n  }, {\n    key: \"movementConfig\",\n    value: function movementConfig() {\n      var _this5 = this;\n\n      this.LEFT.press = function () {\n        _this5.MAIN_PLAYER.vx = -_this5.PLAYER_SPEED;\n        _this5.MAIN_PLAYER.vy = 0;\n        _this5.MAIN_PLAYER.textures = _this5.PLAYER_ANIMATIONS[\"run\"];\n        _this5.MAIN_PLAYER.scale.x = -1;\n\n        _this5.MAIN_PLAYER.play();\n      };\n\n      this.LEFT.release = function () {\n        if (!_this5.RIGHT.isDown && _this5.MAIN_PLAYER.vy === 0) {\n          _this5.MAIN_PLAYER.vx = 0;\n        }\n\n        if (!_this5.RIGHT.isDown && _this5.MAIN_PLAYER.vx === 0) {\n          _this5.MAIN_PLAYER.textures = _this5.PLAYER_ANIMATIONS[\"idle\"];\n\n          _this5.MAIN_PLAYER.play();\n        }\n      };\n\n      this.UP.press = function () {\n        _this5.MAIN_PLAYER.vy = -_this5.PLAYER_SPEED;\n        _this5.MAIN_PLAYER.vx = 0;\n        _this5.MAIN_PLAYER.textures = _this5.PLAYER_ANIMATIONS[\"idle\"];\n\n        _this5.MAIN_PLAYER.play();\n      };\n\n      this.UP.release = function () {\n        if (!_this5.DOWN.isDown && _this5.MAIN_PLAYER.vx === 0) {\n          _this5.MAIN_PLAYER.vy = 0;\n        }\n\n        if (!_this5.DOWN.isDown && _this5.RIGHT.isDown && _this5.LEFT.isUp) {\n          _this5.MAIN_PLAYER.vx = _this5.PLAYER_SPEED;\n          _this5.MAIN_PLAYER.vy = 0;\n          _this5.MAIN_PLAYER.textures = _this5.PLAYER_ANIMATIONS[\"run\"];\n          _this5.MAIN_PLAYER.scale.x = 1;\n\n          _this5.MAIN_PLAYER.play();\n        }\n\n        if (!_this5.DOWN.isDown && _this5.RIGHT.isUp && _this5.LEFT.isDown) {\n          _this5.MAIN_PLAYER.vx = -_this5.PLAYER_SPEED;\n          _this5.MAIN_PLAYER.vy = 0;\n          _this5.MAIN_PLAYER.textures = _this5.PLAYER_ANIMATIONS[\"run\"];\n          _this5.MAIN_PLAYER.scale.x = -1;\n\n          _this5.MAIN_PLAYER.play();\n        }\n      };\n\n      this.RIGHT.press = function () {\n        _this5.MAIN_PLAYER.vx = _this5.PLAYER_SPEED;\n        _this5.MAIN_PLAYER.vy = 0;\n        _this5.MAIN_PLAYER.textures = _this5.PLAYER_ANIMATIONS[\"run\"];\n        _this5.MAIN_PLAYER.scale.x = 1;\n\n        _this5.MAIN_PLAYER.play();\n      };\n\n      this.RIGHT.release = function () {\n        if (!_this5.LEFT.isDown && _this5.MAIN_PLAYER.vy === 0) {\n          _this5.MAIN_PLAYER.vx = 0;\n        }\n\n        if (!_this5.LEFT.isDown && _this5.MAIN_PLAYER.vx === 0) {\n          _this5.MAIN_PLAYER.textures = _this5.PLAYER_ANIMATIONS[\"idle\"];\n\n          _this5.MAIN_PLAYER.play();\n        }\n      };\n\n      this.DOWN.press = function () {\n        _this5.MAIN_PLAYER.vy = _this5.PLAYER_SPEED;\n        _this5.MAIN_PLAYER.vx = 0;\n        _this5.MAIN_PLAYER.textures = _this5.PLAYER_ANIMATIONS[\"idle\"];\n\n        _this5.MAIN_PLAYER.play();\n      };\n\n      this.DOWN.release = function () {\n        if (_this5.DOWN.isDown && _this5.RIGHT.isDown && _this5.LEFT.isUp) {\n          _this5.MAIN_PLAYER.vx = _this5.PLAYER_SPEED;\n          _this5.MAIN_PLAYER.vy = 0;\n          _this5.MAIN_PLAYER.textures = _this5.PLAYER_ANIMATIONS[\"run\"];\n          _this5.MAIN_PLAYER.scale.x = 1;\n\n          _this5.MAIN_PLAYER.play();\n        }\n\n        if (_this5.DOWN.isDown && _this5.RIGHT.isUp && _this5.LEFT.isDown) {\n          _this5.MAIN_PLAYER.vx = -_this5.PLAYER_SPEED;\n          _this5.MAIN_PLAYER.vy = 0;\n          _this5.MAIN_PLAYER.textures = _this5.PLAYER_ANIMATIONS[\"run\"];\n          _this5.MAIN_PLAYER.scale.x = -1;\n\n          _this5.MAIN_PLAYER.play();\n        }\n\n        if (!_this5.UP.isDown && _this5.MAIN_PLAYER.vx === 0) {\n          _this5.MAIN_PLAYER.vy = 0;\n        }\n      };\n\n      this.ATTACK.press = function () {\n        if (_this5.MAIN_PLAYER.playing) {\n          _this5.MAIN_PLAYER.loop = false;\n          var _this_ = _this5;\n\n          _this5.MAIN_PLAYER.onComplete = function () {\n            if (_this_.RIGHT.isDown) {\n              _this_.MAIN_PLAYER.textures = _this_.PLAYER_ANIMATIONS[\"run\"];\n\n              _this_.MAIN_PLAYER.play();\n            }\n\n            if (_this_.LEFT.isDown) {\n              _this_.MAIN_PLAYER.textures = _this_.PLAYER_ANIMATIONS[\"run\"];\n\n              _this_.MAIN_PLAYER.play();\n            }\n\n            if (!_this_.LEFT.isDown && !_this_.RIGHT.isDown) {\n              _this_.MAIN_PLAYER.textures = _this_.PLAYER_ANIMATIONS[\"idle\"];\n\n              _this_.MAIN_PLAYER.play();\n            }\n          };\n\n          _this5.MAIN_PLAYER.textures = _this5.PLAYER_ANIMATIONS[\"attack\"];\n\n          _this5.MAIN_PLAYER.play();\n        }\n      };\n    }\n  }, {\n    key: \"configPlayer\",\n    value: function configPlayer() {\n      var _this6 = this;\n\n      var level = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : \"example\";\n      this.PLAYER_ANIMATIONS[\"idle\"] = this.TEXTURES[\"king-idle\"];\n      this.PLAYER_ANIMATIONS[\"run\"] = this.TEXTURES[\"king-run\"];\n      this.PLAYER_ANIMATIONS[\"jump\"] = this.TEXTURES[\"king-jump\"];\n      this.PLAYER_ANIMATIONS[\"attack\"] = this.TEXTURES[\"king-attack\"];\n      this.PLAYER_ANIMATIONS[\"door-in\"] = this.TEXTURES[\"king-door-in\"];\n      this.PLAYER_ANIMATIONS[\"hit\"] = this.TEXTURES[\"king-hit\"]; // console.log(this.LEVELS);\n\n      var x = window.localStorage.getItem(\"player-x\");\n      var y = window.localStorage.getItem(\"player-y\");\n      this.ASSETS[\"king-idle\"].x = parseFloat(x);\n      this.ASSETS[\"king-idle\"].y = parseFloat(y);\n      /* PLAYER EXTRA CONFIGURATION */\n\n      this.MAIN_PLAYER = this.ASSETS[\"king-idle\"];\n      this.MAIN_PLAYER.vx = 0;\n      this.MAIN_PLAYER.vy = 0;\n      this.MAIN_PLAYER.zIndex = 10;\n      this.MAIN_PLAYER.gravity = this.GRAVITY;\n      this.MAIN_PLAYER.gravitySpeed = this.GRAVITY_SPEED;\n      this.MAIN_PLAYER.interactive = false;\n      this.MAIN_PLAYER.anchor.set(0.36, 0.5);\n      this.MAIN_PLAYER.hitArea = new pixi_js__WEBPACK_IMPORTED_MODULE_3__.Rectangle(0, 0, this.REGULAR_HITAREA.width, this.REGULAR_HITAREA.height);\n\n      this.MAIN_PLAYER.debugMode = function () {\n        var graphics = new pixi_js__WEBPACK_IMPORTED_MODULE_3__.Graphics();\n        graphics.lineStyle(1, 0x00ff00, 1);\n        graphics.drawRect(_this6.MAIN_PLAYER.hitArea.x, _this6.MAIN_PLAYER.hitArea.y, _this6.MAIN_PLAYER.width, _this6.MAIN_PLAYER.height);\n        graphics.pivot.set(_this6.MAIN_PLAYER.width / 3, _this6.MAIN_PLAYER.height / 2);\n\n        _this6.MAIN_PLAYER.addChild(graphics);\n      };\n\n      this.MAIN_PLAYER.debugMode();\n      this.DOOR.forEach(function (door) {\n        door.debugMode();\n      });\n      this.MOBS.forEach(function (mob) {\n        mob.debugMode();\n      });\n      this.app.view.focus();\n      this.movementConfig(); // console.log(this.MAIN_PLAYER);\n\n      this.STAGES[0][level].addChild(this.MAIN_PLAYER);\n    }\n  }, {\n    key: \"configMobs\",\n    value: function configMobs() {// console.log(this.MOBS);\n      // // console.log(this.LEVELS);\n      // // const nivel = window.localStorage.getItem(\"nivel\");\n      // const x = window.localStorage.getItem(\"player-x\");\n      // const y = window.localStorage.getItem(\"player-y\");\n      // this.ASSETS[\"king-idle\"].x = parseFloat(x);\n      // this.ASSETS[\"king-idle\"].y = parseFloat(y);\n      // /* PLAYER EXTRA CONFIGURATION */\n      // this.MAIN_PLAYER = this.ASSETS[\"king-idle\"];\n      // this.MAIN_PLAYER.vx = 0;\n      // this.MAIN_PLAYER.vy = 0;\n      // this.MAIN_PLAYER.zIndex = 10;\n      // this.MAIN_PLAYER.gravity = this.GRAVITY;\n      // this.MAIN_PLAYER.gravitySpeed = this.GRAVITY_SPEED;\n      // this.MAIN_PLAYER.interactive = true;\n      // this.MAIN_PLAYER.anchor.set(0.36, 0);\n      // this.MAIN_PLAYER.hitArea = new PIXI.Rectangle(this.MAIN_PLAYER.x + this.REGULAR_HITAREA.x, this.MAIN_PLAYER.y + this.REGULAR_HITAREA.y, this.REGULAR_HITAREA.width, this.REGULAR_HITAREA.height);\n      // // console.log(this.MAIN_PLAYER);\n      // this.app.stage.addChild(this.MAIN_PLAYER);\n    }\n  }, {\n    key: \"getAsset\",\n    value: function getAsset(name) {\n      return this.BASE_TEXTURE.find(function (sprite) {\n        return sprite.name == name;\n      });\n    }\n  }, {\n    key: \"start\",\n    value: function start() {\n      this.setup();\n    }\n  }]);\n\n  return MyGame;\n}();\n\nvar GAME = new MyGame();\nGAME.start();\n\n//# sourceURL=webpack://proyecto-gus/./src/game.js?");

/***/ })

}]);